<!-- google-email.component.html -->
<div class="email-component">
  <div class="component-title">
    <h2>Boîte de réception Gmail</h2>
    <p>
      Bienvenue dans le composant de la boîte de réception Gmail. Ici, vous pouvez récupérer et afficher une liste
      d'e-mails à partir de votre compte Gmail.
    </p>
  </div>
  <div class="email-list">
    <div *ngIf="loading">
      <!-- Show loading spinner here -->
      <div class="spinner">Chargement en cours...</div>
    </div>
    <ng-container *ngIf="!loading">
      <div *ngIf="mailDetails.length > 0">
        <div class="email" *ngFor="let mailDetail of mailDetails">
          <p>
            <strong>Expéditeur:</strong>
            {{ mailDetail.sender }}
            <strong>Date:</strong>
            {{ mailDetail.date }}
          </p>
          <p>
            <strong>Label:</strong>
            {{ mailDetail.labels }}
          </p>
          <p>
            <strong>Objet:</strong>
            {{ mailDetail.subject }}
          </p>
          <p><strong>Contenu:</strong></p>
          <!-- Use [innerHTML] to render the email body as HTML -->
          <div [innerHTML]="mailDetail.body"></div>
          <button mat-raised-button color="warn" (click)="confirmDelete(mailDetail)">Supprimer</button>
          <hr />
        </div>
      </div>
      <div *ngIf="mailDetails.length === 0">
        <!-- Show a message if there are no emails -->
        Aucun email trouvé.
      </div>
    </ng-container>
  </div>
</div>
